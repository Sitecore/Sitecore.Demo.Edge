{
  "clientKey": "Redacted",
  "href": "https://api-us.boxever.com/v3/flowDefinitions/108fb761-2ade-42ec-8ebe-8b16ec7208c7",
  "ref": "108fb761-2ade-42ec-8ebe-8b16ec7208c7",
  "name": "Slide out demo panel",
  "modifiedByRef": "51e88c16-25b8-4cf2-a0df-c12574ee3aea",
  "modifiedAt": "2022-10-07T13:58:44.278Z",
  "revision": 128,
  "archived": false,
  "friendlyId": "slide_out_data_panel",
  "type": "INTERACTIVE_WEB_FLOW",
  "subtype": "EXPERIENCE",
  "channels": [
    "WEB"
  ],
  "triggers": [],
  "referenceLinks": [],
  "dashboardLinks": [],
  "tags": [],
  "businessProcess": "interactive_v1",
  "traffic": {
    "type": "simpleTraffic",
    "weightingAlgorithm": "USER_DEFINED",
    "modifiedAt": "2022-10-07T13:58:32.711Z",
    "allocation": 100,
    "splits": [
      {
        "ref": "562719c6-50d8-4d14-9d96-426642ed807d",
        "split": 100
      }
    ],
    "coupled": true
  },
  "variants": [
    {
      "ref": "562719c6-50d8-4d14-9d96-426642ed807d",
      "name": "Variant 1",
      "isControl": true,
      "previewUrl": "https://edge-nightly-website.sitecoredemo.com",
      "assets": {
        "css": "/*\r\n[[Icon Colour | colour | #ffffff  | {group: Open Button, order: 2 }]]\r\n[[Background Colour | colour | #FF1887 | {group: Open Button, order: 3 }]]\r\n[[Top Margin | number | 225 | {group: Open Button, order: 4 }]]\r\n*/\r\n\r\n#bx-{{ref}} a,\r\n#bx-{{ref}} p,\r\n#bx-{{ref}} span,\r\n#bx-{{ref}} h3,\r\n#bx-{{ref}} h4 { font-weight: 300; line-height: 1.2; }\r\n\r\n#bx-{{ref}} #bx-demobar { position: fixed; top: 0; right: -450px; height: 100%; width: 450px; z-index: 99998; transition: right 0.6s ease-in-out; box-shadow: 0 0.2rem 0.4rem 0.2rem rgba(0, 0, 0, 0.1); }\r\n\r\n#bx-{{ref}} #bx-demobar.open { right: 0; z-index: 99999; max-width: 100vw; }\r\n\r\n#bx-{{ref}} #bx-demobar .bx-demobar__openToggle { position: absolute; left: 39px; top: [[Top Margin]]px; width: 50px; height: 50px; transform: translateX(-100%); background-color: [[ Background Colour ]]; box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); text-align: center; font-size: 26px; color: [[ Icon Colour ]]; cursor: pointer; padding-top: 5px; }\r\n#bx-{{ref}} #bx-demobar .bx-demobar__openToggle:hover { left: 0; transition: 0.3s; }\r\n#bx-{{ref}} #bx-demobar.open .bx-demobar__openToggle { display: none; }\r\n\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body { overflow-y: auto; height: 100%; background-color: #f7f7f7; }\r\n#bx-{{ref}} #bx-demobar .demobar__body__section { padding: 15px; background-color: #f7f7f7; }\r\n\r\n#bx-{{ref}} h4 { font-weight: 500; font-size: 20px; margin: 25px 0 5px 0; padding: 0; }\r\n#bx-{{ref}} h4:first-child { margin-top: 0; }\r\n\r\n/* scollbar */\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body::-webkit-scrollbar { width: 12px; } /* width of the entire scrollbar */\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body::-webkit-scrollbar-track {  background-color: #f7f7f7; } /* color of the tracking area */\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body::-webkit-scrollbar-thumb { background-color: #666666; /* color of the scroll thumb */ border-radius: 20px; /* roundness of the scroll thumb */ border: 3px solid #f7f7f7; /* creates padding around scroll thumb */ }\r\n\r\n/* header */\r\n#bx-{{ref}} .demobar-heading { position: sticky; top: 0; }\r\n#bx-{{ref}} .demobar-heading h3 { font-weight: bold; font-size: 22px; }\r\n\r\n/* close button */\r\n#bx-{{ref}} .bx-demobar__closeButton { position: absolute; top: 10px; right: 10px; width: 22px; height: 30px; cursor: pointer; font-size: 34px; line-height: 0; }\r\n\r\n/* save message */\r\n#bx-{{ref}} #bx-demobar #saveMsg { position: absolute; top: 10px; left: 10px; width: 97%; background-color: #333378; color: white; padding: 5px; text-align: center; border-radius: 7.5px; }\r\n\r\n/* accordion */\r\n#bx-{{ref}} .demobar-accordion + .demobar-accordion { margin-top: 20px; }\r\n\r\n#bx-{{ref}} .demobar-accordion-button { width: 100%; background-color: white; color: #232323; border: 2px solid #666666; outline: none; text-align: left; padding: 5px 10px; font-size: 18px; cursor: pointer; transition: background-color 0.2s linear; }\r\n#bx-{{ref}} .demobar-accordion-button:hover,\r\n#bx-{{ref}} .demobar-accordion.is-open .demobar-accordion-button { font-weight: bold; background-color:  #FF1886; border-color:  #FF1886; color: #fff; }\r\n#bx-{{ref}} .demobar-accordion-button:after { text-rendering: auto; -webkit-font-smoothing: antialiased; font: var(--fa-font-solid); font-size: 25px; content: \"\\f107\"; float: right; }\r\n#bx-{{ref}} .demobar-accordion.is-open .demobar-accordion-button:after { content: \"\\f106\"; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content { background-color: white; max-height: 0; overflow: hidden; transition: max-height 0.2s ease-in-out; box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); }\r\n\r\n/* forms */\r\n#bx-{{ref}} .demobar-accordion-content form { width: 100%; padding: 20px; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content label { display: block; margin-bottom: 8px; font-size: 16px; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"text\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"password\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"date\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"datetime\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"email\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"number\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"search\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"tel\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"time\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"url\"],\r\n#bx-{{ref}} .demobar-accordion-content textarea,\r\n#bx-{{ref}} .demobar-accordion-content select { width: 100%; background-color: white; color: #232323; border: 2px solid #666666; outline: none; text-align: left; padding: 5px 10px; font-size: 18px; height: auto; margin: 0; margin-bottom: 20px; }\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"radio\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"checkbox\"] { margin: 0 4px 8px 0; }\r\n#bx-{{ref}} .demobar-accordion-content select { padding: 6px; height: 32px; }\r\n#bx-{{ref}} .demobar-accordion-content button { padding: 10px 31px; color: rgb(35, 35, 35); background-color: rgb(255, 211, 28); transition: all .2s ease-in-out; display: inline-block; font-size: 20px; line-height: 30px; text-align: center; font-style: normal; border-radius: 7.5px; border-width: 0px; font-weight: 500; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content .buttonContainer { text-align: center; }\r\n",
        "html": "<div id=\"bx-demobar\">\r\n    <div class=\"bx-demobar__openToggle\" title=\"Create Events\">\r\n        <i class=\"[[FontAwesome Icon | string | fa-solid fa-bolt  | {group: Open Button, groupOrder: 1, order: 1 }]]\"></i>\r\n    </div>\r\n    <div class=\"bx-demobar__body\">\r\n        <div class=\"demobar__body__section demobar-heading\">\r\n            <h3>Create Events</h3>\r\n            <div class=\"bx-demobar__closeButton\">\r\n                <i class=\"fa-solid fa-xmark\"></i>\r\n            </div>\r\n            <div id=\"saveMsg\" style=\"display: none\">Event sent</div>\r\n        </div>\r\n\r\n        <div class=\"demobar__body__section\">\r\n            <h4>Session</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Identify user</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"identifyUserForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"identifyUserEmail\">Email:</label>\r\n                        <input type=\"email\" id=\"identifyUserEmail\" />\r\n\r\n                        <label for=\"identifyProviderName\">Identifier provider:</label>\r\n                        <input\r\n                        type=\"text\"\r\n                        id=\"identifyProviderName\"\r\n                        value=\"[[Identity Provider Name | string | email | {group: Event Settings, groupOrder: 6, order: 1 }]]\"\r\n                        />\r\n\r\n                        <label for=\"identifyUserName\">Identifier value:</label>\r\n                        <input type=\"text\" id=\"identifyUserName\" />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"identifyUserButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Send force close</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"forceCloseForm\" action=\"\" method=\"GET\">\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"forceCloseButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Restart as anonymous</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"anonymousForm\" action=\"\" method=\"GET\">\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"anonymousButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <h4>Commerce</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Add item to cart</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"addItemToCartForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"addSKU\">Product sku:</label>\r\n                        <input type=\"text\" id=\"addSKU\" />\r\n\r\n                        <label for=\"addProductName\">Product name:</label>\r\n                        <input type=\"text\" id=\"addProductName\" />\r\n\r\n                        <label for=\"addProductType\">Product type:</label>\r\n                        <input type=\"text\" id=\"addProductType\" />\r\n\r\n                        <label for=\"addPrice\">Price:</label>\r\n                        <input type=\"text\" id=\"addPrice\" />\r\n\r\n                        <label for=\"addQuantity\">Quantity:</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            id=\"addQuantity\"\r\n                            value=\"1\"\r\n                        />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"addToCartButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Checkout</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"checkoutForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"checkoutRef\">Reference id:</label>\r\n                        <input type=\"text\" id=\"checkoutRef\" />\r\n\r\n                        <label for=\"checkoutStatus\">Status:</label>\r\n                        <input type=\"text\" value=\"PURCHASED\" id=\"checkoutStatus\" />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"checkoutCartButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Clear cart</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"clearCartForm\" action=\"\" method=\"GET\">\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"clearCartButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <h4>Custom events</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Send custom event</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"customEventForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"customType\">Event type:</label>\r\n                        <input type=\"text\" id=\"customType\" />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"customEventButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <h4>Settings</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Global properties</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"globalPropertiesForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"Channel\">Channel:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"Channel\"\r\n                            value=\"[[Channel | string | WEB | {group: Event Settings, groupOrder: 6, order: 2 }]]\"\r\n                        />\r\n\r\n                        <label for=\"Language\">Language:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"Language\"\r\n                            value=\"[[Language | string | EN | {group: Event Settings, groupOrder: 6, order: 3 }]]\"\r\n                        />\r\n\r\n                        <label for=\"Currency\">Currency:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"Currency\"\r\n                            value=\"[[Currency | string | USD | {group: Event Settings, groupOrder: 6, order: 4 }]]\"\r\n                        />\r\n\r\n                        <label for=\"PointOfSale\">Point of sale (POS):</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"PointOfSale\"\r\n                            value=\"[[Point of Sale | string | PLAY! Summit | {group: Event Settings, groupOrder: 6, order: 5 }]]\"\r\n                        />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
        "js": "// Adds a unique variant identifier to CSS when deployed to ensure CSS does not impact styling of other elements.\r\nvar compiledCSS = Boxever.templating.compile(variant.assets.css)(variant);\r\nvar styleTag = document.getElementById('style-' + variant.ref);\r\nif (styleTag) {\r\n    styleTag.innerHTML = compiledCSS;\r\n}\r\n// End Adds a unique variant identifier to CSS when deployed to ensure CSS does not impact styling of other elements.\r\n\r\n// Add FontAwesome to the page\r\nvar fontAwesomeScriptElement = document.createElement('script');\r\nfontAwesomeScriptElement.src = 'https://kit.fontawesome.com/b19590b5e3.js';\r\ndocument.body.appendChild(fontAwesomeScriptElement);\r\n\r\n// make space in the body for the experience\r\ninsertHTMLAfter('body');\r\n\r\n/* code to operate the demobar */\r\nvar bxContent = document.getElementById('bx-demobar');\r\nvar bxDemobarOpenToggle = bxContent.querySelector('.bx-demobar__openToggle');\r\nbxDemobarOpenToggle.onclick = function () {\r\n  if (!bxContent.classList.contains('open')) {\r\n    bxContent.classList.add('open');\r\n  }\r\n};\r\nvar bxDemobarClose = bxContent.querySelector('.bx-demobar__closeButton');\r\nbxDemobarClose.onclick = function () {\r\n  if (bxContent.classList.contains('open')) {\r\n    bxContent.classList.remove('open');\r\n  }\r\n  // Refresh guest sidebar web experience after closing demo panel\r\n  if (window.refreshGuestSidebarWebExperience && typeof window.refreshGuestSidebarWebExperience === \"function\") {\r\n    window.refreshGuestSidebarWebExperience();\r\n  }\r\n};\r\n\r\n/* code to make accordion work */\r\nconst accordionBtns = document.querySelectorAll(\".demobar-accordion-button\");\r\n\r\naccordionBtns.forEach((accordion) => {\r\n  accordion.onclick = function () {\r\n    this.parentElement.classList.toggle(\"is-open\");\r\n\r\n    let content = this.nextElementSibling;\r\n\r\n    if (content.style.maxHeight) {\r\n      //this is if the accordion is open\r\n      content.style.maxHeight = null;\r\n    } else {\r\n      //if the accordion is currently closed\r\n      content.style.maxHeight = content.scrollHeight + \"px\";\r\n    }\r\n  };\r\n});\r\n\r\n/* toast */\r\nfunction showToast() {\r\n  var toast = document.getElementById(\"saveMsg\");\r\n  toast.style = \"display:block\";\r\n  setTimeout(() => { toast.style = \"display:none\"; }, 1500);\r\n}\r\n\r\n/* bind for buttons */\r\ndocument.getElementById(\"identifyUserButton\").onclick = identifyUser;\r\ndocument.getElementById(\"addToCartButton\").onclick = addToCart;\r\ndocument.getElementById(\"forceCloseButton\").onclick = sendForceClose;\r\ndocument.getElementById(\"customEventButton\").onclick = sendCustomEvent;\r\ndocument.getElementById(\"checkoutCartButton\").onclick = checkoutCartEvent;\r\ndocument.getElementById(\"clearCartButton\").onclick = clearCartEvent;\r\ndocument.getElementById(\"anonymousButton\").onclick = anonymousEvent;\r\n\r\n/* Event methods */\r\nfunction identifyUser() {\r\n  var identityEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    type: \"IDENTITY\",\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    page: window.location.pathname,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    email: document.getElementById(\"identifyUserEmail\").value,\r\n    identifiers: [\r\n      {\r\n        provider: document.getElementById(\"identifyProviderName\").value,\r\n        id: document.getElementById(\"identifyUserName\").value,\r\n      },\r\n    ],\r\n  };\r\n\r\n  identityEvent = Boxever.addUTMParams(identityEvent);\r\n  Boxever.eventCreate(identityEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\n\r\nfunction addToCart() {\r\n  var addEvent = {\r\n    channel: document.getElementById(\"Channel\").value,\r\n    type: \"ADD\",\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    page: window.location.pathname,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    browser_id: Boxever.getID(),\r\n    product: {\r\n      type: document.getElementById(\"addProductType\").value,\r\n      item_id: \"ITEM_1\",\r\n      name: document.getElementById(\"addProductName\").value,\r\n      currency: document.getElementById(\"Currency\").value,\r\n      price: document.getElementById(\"addPrice\").value,\r\n      product_id: document.getElementById(\"addSKU\").value,\r\n      origin: \"\",\r\n      destination: \"\",\r\n      flight_type: \"\",\r\n      pax_type: \"\",\r\n      quantity: document.getElementById(\"addQuantity\").value,\r\n    },\r\n  };\r\n\r\n  addEvent = Boxever.addUTMParams(addEvent);\r\n  Boxever.eventCreate(addEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction sendForceClose() {\r\n  var closeSessionEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    type: \"FORCE_CLOSE\",\r\n    _bx_extended_message: \"1\",\r\n  };\r\n\r\n  Boxever.eventCreate(closeSessionEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction sendCustomEvent() {\r\n  var customEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    type: document.getElementById(\"customType\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n  };\r\n\r\n  Boxever.eventCreate(customEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\n\r\nfunction checkoutCartEvent() {\r\n  var closeSessionEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    page: window.location.pathname,\r\n    type: \"CHECKOUT\",\r\n    reference_id: document.getElementById(\"checkoutRef\").value,\r\n    status: document.getElementById(\"checkoutStatus\").value\r\n  };\r\n\r\n  Boxever.eventCreate(closeSessionEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction clearCartEvent() {\r\n  var clearCartEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    page: window.location.pathname,\r\n    type: \"CLEAR_CART\",\r\n  };\r\n\r\n  Boxever.eventCreate(clearCartEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction anonymousEvent() {\r\n    Boxever.reset();\r\n}\r\n"
      },
      "templateVariables": {
        "FontAwesome Icon": "fa-solid fa-bolt",
        "Identity Provider Name": "email",
        "Icon Colour": "#ffffff",
        "Channel": "WEB",
        "Background Colour": "#FF1887",
        "Language": "EN",
        "Top Margin": "225",
        "Currency": "USD",
        "Point of Sale": "PLAY! Summit"
      },
      "tasks": [
        {
          "implementation": "templateRenderTask",
          "input": {
            "inputType": "templateRenderTaskInput",
            "type": "application/json",
            "template": "<#-- Construct the API response using Freemarker -->\n<#-- For your Experience to run your API tab must have, at a minimum, open and closing brackets -->\n{ \"ref\": \"${guest.ref}\" }"
          }
        }
      ],
      "description": "Add your own HTML/CSS/JS and Freemarker",
      "render": false
    }
  ],
  "transpiledVariants": [
    {
      "ref": "562719c6-50d8-4d14-9d96-426642ed807d",
      "name": "Variant 1",
      "isControl": true,
      "previewUrl": "https://edge-nightly-website.sitecoredemo.com",
      "assets": {
        "css": "/*\r\n#ffffff\r\n#FF1887\r\n225\r\n*/\r\n\r\n#bx-{{ref}} a,\r\n#bx-{{ref}} p,\r\n#bx-{{ref}} span,\r\n#bx-{{ref}} h3,\r\n#bx-{{ref}} h4 { font-weight: 300; line-height: 1.2; }\r\n\r\n#bx-{{ref}} #bx-demobar { position: fixed; top: 0; right: -450px; height: 100%; width: 450px; z-index: 99998; transition: right 0.6s ease-in-out; box-shadow: 0 0.2rem 0.4rem 0.2rem rgba(0, 0, 0, 0.1); }\r\n\r\n#bx-{{ref}} #bx-demobar.open { right: 0; z-index: 99999; max-width: 100vw; }\r\n\r\n#bx-{{ref}} #bx-demobar .bx-demobar__openToggle { position: absolute; left: 39px; top: 225px; width: 50px; height: 50px; transform: translateX(-100%); background-color: #FF1887; box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); text-align: center; font-size: 26px; color: #ffffff; cursor: pointer; padding-top: 5px; }\r\n#bx-{{ref}} #bx-demobar .bx-demobar__openToggle:hover { left: 0; transition: 0.3s; }\r\n#bx-{{ref}} #bx-demobar.open .bx-demobar__openToggle { display: none; }\r\n\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body { overflow-y: auto; height: 100%; background-color: #f7f7f7; }\r\n#bx-{{ref}} #bx-demobar .demobar__body__section { padding: 15px; background-color: #f7f7f7; }\r\n\r\n#bx-{{ref}} h4 { font-weight: 500; font-size: 20px; margin: 25px 0 5px 0; padding: 0; }\r\n#bx-{{ref}} h4:first-child { margin-top: 0; }\r\n\r\n/* scollbar */\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body::-webkit-scrollbar { width: 12px; } /* width of the entire scrollbar */\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body::-webkit-scrollbar-track {  background-color: #f7f7f7; } /* color of the tracking area */\r\n#bx-{{ref}} #bx-demobar .bx-demobar__body::-webkit-scrollbar-thumb { background-color: #666666; /* color of the scroll thumb */ border-radius: 20px; /* roundness of the scroll thumb */ border: 3px solid #f7f7f7; /* creates padding around scroll thumb */ }\r\n\r\n/* header */\r\n#bx-{{ref}} .demobar-heading { position: sticky; top: 0; }\r\n#bx-{{ref}} .demobar-heading h3 { font-weight: bold; font-size: 22px; }\r\n\r\n/* close button */\r\n#bx-{{ref}} .bx-demobar__closeButton { position: absolute; top: 10px; right: 10px; width: 22px; height: 30px; cursor: pointer; font-size: 34px; line-height: 0; }\r\n\r\n/* save message */\r\n#bx-{{ref}} #bx-demobar #saveMsg { position: absolute; top: 10px; left: 10px; width: 97%; background-color: #333378; color: white; padding: 5px; text-align: center; border-radius: 7.5px; }\r\n\r\n/* accordion */\r\n#bx-{{ref}} .demobar-accordion + .demobar-accordion { margin-top: 20px; }\r\n\r\n#bx-{{ref}} .demobar-accordion-button { width: 100%; background-color: white; color: #232323; border: 2px solid #666666; outline: none; text-align: left; padding: 5px 10px; font-size: 18px; cursor: pointer; transition: background-color 0.2s linear; }\r\n#bx-{{ref}} .demobar-accordion-button:hover,\r\n#bx-{{ref}} .demobar-accordion.is-open .demobar-accordion-button { font-weight: bold; background-color:  #FF1886; border-color:  #FF1886; color: #fff; }\r\n#bx-{{ref}} .demobar-accordion-button:after { text-rendering: auto; -webkit-font-smoothing: antialiased; font: var(--fa-font-solid); font-size: 25px; content: \"\\f107\"; float: right; }\r\n#bx-{{ref}} .demobar-accordion.is-open .demobar-accordion-button:after { content: \"\\f106\"; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content { background-color: white; max-height: 0; overflow: hidden; transition: max-height 0.2s ease-in-out; box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); }\r\n\r\n/* forms */\r\n#bx-{{ref}} .demobar-accordion-content form { width: 100%; padding: 20px; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content label { display: block; margin-bottom: 8px; font-size: 16px; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"text\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"password\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"date\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"datetime\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"email\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"number\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"search\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"tel\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"time\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"url\"],\r\n#bx-{{ref}} .demobar-accordion-content textarea,\r\n#bx-{{ref}} .demobar-accordion-content select { width: 100%; background-color: white; color: #232323; border: 2px solid #666666; outline: none; text-align: left; padding: 5px 10px; font-size: 18px; height: auto; margin: 0; margin-bottom: 20px; }\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"radio\"],\r\n#bx-{{ref}} .demobar-accordion-content input[type=\"checkbox\"] { margin: 0 4px 8px 0; }\r\n#bx-{{ref}} .demobar-accordion-content select { padding: 6px; height: 32px; }\r\n#bx-{{ref}} .demobar-accordion-content button { padding: 10px 31px; color: rgb(35, 35, 35); background-color: rgb(255, 211, 28); transition: all .2s ease-in-out; display: inline-block; font-size: 20px; line-height: 30px; text-align: center; font-style: normal; border-radius: 7.5px; border-width: 0px; font-weight: 500; }\r\n\r\n#bx-{{ref}} .demobar-accordion-content .buttonContainer { text-align: center; }\r\n",
        "html": "<div id=\"bx-demobar\">\r\n    <div class=\"bx-demobar__openToggle\" title=\"Create Events\">\r\n        <i class=\"fa-solid fa-bolt\"></i>\r\n    </div>\r\n    <div class=\"bx-demobar__body\">\r\n        <div class=\"demobar__body__section demobar-heading\">\r\n            <h3>Create Events</h3>\r\n            <div class=\"bx-demobar__closeButton\">\r\n                <i class=\"fa-solid fa-xmark\"></i>\r\n            </div>\r\n            <div id=\"saveMsg\" style=\"display: none\">Event sent</div>\r\n        </div>\r\n\r\n        <div class=\"demobar__body__section\">\r\n            <h4>Session</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Identify user</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"identifyUserForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"identifyUserEmail\">Email:</label>\r\n                        <input type=\"email\" id=\"identifyUserEmail\" />\r\n\r\n                        <label for=\"identifyProviderName\">Identifier provider:</label>\r\n                        <input\r\n                        type=\"text\"\r\n                        id=\"identifyProviderName\"\r\n                        value=\"email\"\r\n                        />\r\n\r\n                        <label for=\"identifyUserName\">Identifier value:</label>\r\n                        <input type=\"text\" id=\"identifyUserName\" />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"identifyUserButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Send force close</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"forceCloseForm\" action=\"\" method=\"GET\">\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"forceCloseButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Restart as anonymous</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"anonymousForm\" action=\"\" method=\"GET\">\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"anonymousButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <h4>Commerce</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Add item to cart</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"addItemToCartForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"addSKU\">Product sku:</label>\r\n                        <input type=\"text\" id=\"addSKU\" />\r\n\r\n                        <label for=\"addProductName\">Product name:</label>\r\n                        <input type=\"text\" id=\"addProductName\" />\r\n\r\n                        <label for=\"addProductType\">Product type:</label>\r\n                        <input type=\"text\" id=\"addProductType\" />\r\n\r\n                        <label for=\"addPrice\">Price:</label>\r\n                        <input type=\"text\" id=\"addPrice\" />\r\n\r\n                        <label for=\"addQuantity\">Quantity:</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            id=\"addQuantity\"\r\n                            value=\"1\"\r\n                        />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"addToCartButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Checkout</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"checkoutForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"checkoutRef\">Reference id:</label>\r\n                        <input type=\"text\" id=\"checkoutRef\" />\r\n\r\n                        <label for=\"checkoutStatus\">Status:</label>\r\n                        <input type=\"text\" value=\"PURCHASED\" id=\"checkoutStatus\" />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"checkoutCartButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Clear cart</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"clearCartForm\" action=\"\" method=\"GET\">\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"clearCartButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <h4>Custom events</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Send custom event</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"customEventForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"customType\">Event type:</label>\r\n                        <input type=\"text\" id=\"customType\" />\r\n\r\n                        <div class=\"buttonContainer\">\r\n                            <button id=\"customEventButton\">Send</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n            <h4>Settings</h4>\r\n\r\n            <div class=\"demobar-accordion\">\r\n                <button class=\"demobar-accordion-button\">Global properties</button>\r\n                <div class=\"demobar-accordion-content\">\r\n                    <form id=\"globalPropertiesForm\" action=\"\" method=\"GET\">\r\n                        <label for=\"Channel\">Channel:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"Channel\"\r\n                            value=\"WEB\"\r\n                        />\r\n\r\n                        <label for=\"Language\">Language:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"Language\"\r\n                            value=\"EN\"\r\n                        />\r\n\r\n                        <label for=\"Currency\">Currency:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"Currency\"\r\n                            value=\"USD\"\r\n                        />\r\n\r\n                        <label for=\"PointOfSale\">Point of sale (POS):</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"PointOfSale\"\r\n                            value=\"PLAY! Summit\"\r\n                        />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n",
        "js": "// Adds a unique variant identifier to CSS when deployed to ensure CSS does not impact styling of other elements.\r\nvar compiledCSS = Boxever.templating.compile(variant.assets.css)(variant);\r\nvar styleTag = document.getElementById('style-' + variant.ref);\r\nif (styleTag) {\r\n    styleTag.innerHTML = compiledCSS;\r\n}\r\n// End Adds a unique variant identifier to CSS when deployed to ensure CSS does not impact styling of other elements.\r\n\r\n// Add FontAwesome to the page\r\nvar fontAwesomeScriptElement = document.createElement('script');\r\nfontAwesomeScriptElement.src = 'https://kit.fontawesome.com/b19590b5e3.js';\r\ndocument.body.appendChild(fontAwesomeScriptElement);\r\n\r\n// make space in the body for the experience\r\ninsertHTMLAfter('body');\r\n\r\n/* code to operate the demobar */\r\nvar bxContent = document.getElementById('bx-demobar');\r\nvar bxDemobarOpenToggle = bxContent.querySelector('.bx-demobar__openToggle');\r\nbxDemobarOpenToggle.onclick = function () {\r\n  if (!bxContent.classList.contains('open')) {\r\n    bxContent.classList.add('open');\r\n  }\r\n};\r\nvar bxDemobarClose = bxContent.querySelector('.bx-demobar__closeButton');\r\nbxDemobarClose.onclick = function () {\r\n  if (bxContent.classList.contains('open')) {\r\n    bxContent.classList.remove('open');\r\n  }\r\n  // Refresh guest sidebar web experience after closing demo panel\r\n  if (window.refreshGuestSidebarWebExperience && typeof window.refreshGuestSidebarWebExperience === \"function\") {\r\n    window.refreshGuestSidebarWebExperience();\r\n  }\r\n};\r\n\r\n/* code to make accordion work */\r\nconst accordionBtns = document.querySelectorAll(\".demobar-accordion-button\");\r\n\r\naccordionBtns.forEach((accordion) => {\r\n  accordion.onclick = function () {\r\n    this.parentElement.classList.toggle(\"is-open\");\r\n\r\n    let content = this.nextElementSibling;\r\n\r\n    if (content.style.maxHeight) {\r\n      //this is if the accordion is open\r\n      content.style.maxHeight = null;\r\n    } else {\r\n      //if the accordion is currently closed\r\n      content.style.maxHeight = content.scrollHeight + \"px\";\r\n    }\r\n  };\r\n});\r\n\r\n/* toast */\r\nfunction showToast() {\r\n  var toast = document.getElementById(\"saveMsg\");\r\n  toast.style = \"display:block\";\r\n  setTimeout(() => { toast.style = \"display:none\"; }, 1500);\r\n}\r\n\r\n/* bind for buttons */\r\ndocument.getElementById(\"identifyUserButton\").onclick = identifyUser;\r\ndocument.getElementById(\"addToCartButton\").onclick = addToCart;\r\ndocument.getElementById(\"forceCloseButton\").onclick = sendForceClose;\r\ndocument.getElementById(\"customEventButton\").onclick = sendCustomEvent;\r\ndocument.getElementById(\"checkoutCartButton\").onclick = checkoutCartEvent;\r\ndocument.getElementById(\"clearCartButton\").onclick = clearCartEvent;\r\ndocument.getElementById(\"anonymousButton\").onclick = anonymousEvent;\r\n\r\n/* Event methods */\r\nfunction identifyUser() {\r\n  var identityEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    type: \"IDENTITY\",\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    page: window.location.pathname,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    email: document.getElementById(\"identifyUserEmail\").value,\r\n    identifiers: [\r\n      {\r\n        provider: document.getElementById(\"identifyProviderName\").value,\r\n        id: document.getElementById(\"identifyUserName\").value,\r\n      },\r\n    ],\r\n  };\r\n\r\n  identityEvent = Boxever.addUTMParams(identityEvent);\r\n  Boxever.eventCreate(identityEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\n\r\nfunction addToCart() {\r\n  var addEvent = {\r\n    channel: document.getElementById(\"Channel\").value,\r\n    type: \"ADD\",\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    page: window.location.pathname,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    browser_id: Boxever.getID(),\r\n    product: {\r\n      type: document.getElementById(\"addProductType\").value,\r\n      item_id: \"ITEM_1\",\r\n      name: document.getElementById(\"addProductName\").value,\r\n      currency: document.getElementById(\"Currency\").value,\r\n      price: document.getElementById(\"addPrice\").value,\r\n      product_id: document.getElementById(\"addSKU\").value,\r\n      origin: \"\",\r\n      destination: \"\",\r\n      flight_type: \"\",\r\n      pax_type: \"\",\r\n      quantity: document.getElementById(\"addQuantity\").value,\r\n    },\r\n  };\r\n\r\n  addEvent = Boxever.addUTMParams(addEvent);\r\n  Boxever.eventCreate(addEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction sendForceClose() {\r\n  var closeSessionEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    type: \"FORCE_CLOSE\",\r\n    _bx_extended_message: \"1\",\r\n  };\r\n\r\n  Boxever.eventCreate(closeSessionEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction sendCustomEvent() {\r\n  var customEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    type: document.getElementById(\"customType\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n  };\r\n\r\n  Boxever.eventCreate(customEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\n\r\nfunction checkoutCartEvent() {\r\n  var closeSessionEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    page: window.location.pathname,\r\n    type: \"CHECKOUT\",\r\n    reference_id: document.getElementById(\"checkoutRef\").value,\r\n    status: document.getElementById(\"checkoutStatus\").value\r\n  };\r\n\r\n  Boxever.eventCreate(closeSessionEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction clearCartEvent() {\r\n  var clearCartEvent = {\r\n    browser_id: Boxever.getID(),\r\n    channel: document.getElementById(\"Channel\").value,\r\n    language: document.getElementById(\"Language\").value,\r\n    currency: document.getElementById(\"Currency\").value,\r\n    pos: document.getElementById(\"PointOfSale\").value,\r\n    page: window.location.pathname,\r\n    type: \"CLEAR_CART\",\r\n  };\r\n\r\n  Boxever.eventCreate(clearCartEvent, function (data) {}, \"json\");\r\n  showToast();\r\n  return false;\r\n}\r\n\r\nfunction anonymousEvent() {\r\n    Boxever.reset();\r\n}\r\n"
      },
      "templateVariables": {
        "FontAwesome Icon": "fa-solid fa-bolt",
        "Identity Provider Name": "email",
        "Icon Colour": "#ffffff",
        "Channel": "WEB",
        "Background Colour": "#FF1887",
        "Language": "EN",
        "Top Margin": "225",
        "Currency": "USD",
        "Point of Sale": "PLAY! Summit"
      },
      "tasks": [
        {
          "implementation": "templateRenderTask",
          "input": {
            "inputType": "templateRenderTaskInput",
            "type": "application/json",
            "template": "<#-- Construct the API response using Freemarker -->\n<#-- For your Experience to run your API tab must have, at a minimum, open and closing brackets -->\n{ \"ref\": \"${guest.ref}\" }"
          }
        }
      ],
      "description": "Add your own HTML/CSS/JS and Freemarker"
    }
  ],
  "audienceTemplateVariables": {},
  "status": "PRODUCTION",
  "schedule": {
    "type": "simpleSchedule",
    "startDate": "2022-10-07T13:58:32.419Z"
  },
  "revisions": {
    "href": "https://api-us.boxever.com/v3/flowDefinitions/108fb761-2ade-42ec-8ebe-8b16ec7208c7/revisions"
  },
  "sampleSizeConfig": {
    "baseValue": 0.02,
    "minimumDetectableDifference": 0.2,
    "confidenceLevel": 0.95
  }
}